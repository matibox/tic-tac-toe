/*! For license information please see main.js.LICENSE.txt */
(()=>{var t={83:function(t,e){!function(t){"use strict";function e(t){if(!m){var e=function(t){var e=t.target;do{if(!1!==e.draggable&&e.getAttribute&&"true"===e.getAttribute("draggable"))return e}while((e=e.parentNode)&&e!==document.body)}(t);if(e)try{m=new I(t,y,e,i)}catch(e){throw i(y,t,3),e}}}function i(t,e,i){if(0===i&&t.defaultActionOverride)try{t.defaultActionOverride(e),e.defaultPrevented}catch(t){}m=null}function s(t,e,i){void 0===i&&(i=!0),document.addEventListener(t,e,!!v&&{passive:i})}function r(t,e){document.removeEventListener(t,e)}function n(t){return 0===t.length?0:t.reduce((function(t,e){return e+t}),0)/t.length}function a(t){return t&&t.tagName}function o(t,e){for(var i=0;i<t.changedTouches.length;i++)if(t.changedTouches[i].identifier===e)return!0;return!1}function h(t,e,i){for(var s=[],r=[],a=0;a<e.touches.length;a++){var o=e.touches[a];s.push(o[t+"X"]),r.push(o[t+"Y"])}i.x=n(s),i.y=n(r)}function d(t,e){if(1===t.nodeType){for(var i=getComputedStyle(t),s=0;s<i.length;s++){var r=i[s];e.style.setProperty(r,i.getPropertyValue(r),i.getPropertyPriority(r))}e.style.pointerEvents="none",e.removeAttribute("id"),e.removeAttribute("class"),e.removeAttribute("draggable")}if(t.hasChildNodes())for(s=0;s<t.childNodes.length;s++)d(t.childNodes[s],e.childNodes[s])}function l(t){var e=t.cloneNode(!0);return d(t,e),e.style.position="absolute",e.style.left="0px",e.style.top="0px",e.style.zIndex="999999",e.classList.add(O),e.classList.add(T),e}function c(t,e,i,s,r){void 0===r&&(r=!0);var n=e.x,a=e.y;s&&(n+=s.x,a+=s.y),r&&(n-=parseInt(t.offsetWidth,10)/2,a-=parseInt(t.offsetHeight,10)/2);for(var o="translate3d("+n+"px,"+a+"px, 0)",h=0;h<E.length;h++){var d=E[h]+"transform";t.style[d]=o+" "+i[h]}}function u(t,e){return t?t===b[0]?C[0]:0===t.indexOf(b[1])||t===b[7]?C[1]:0===t.indexOf(b[4])?C[3]:t===b[6]?C[2]:C[1]:3===e.nodeType&&"A"===e.tagName?C[3]:C[1]}function g(t,e,i,s,r,n,a){if(void 0===n&&(n=!0),void 0===a&&(a=null),p){var o=L+"debug",h=L+"event-target",d=L+"event-related-target";e.classList.add(o),e.classList.add(h),a&&(a.classList.add(o),a.classList.add(d))}var l=function(t,e,i,s,r,n,a){void 0===a&&(a=null);var o=e.changedTouches[0],h=new Event(i,{bubbles:!0,cancelable:s});h.dataTransfer=n,h.relatedTarget=a,h.screenX=o.screenX,h.screenY=o.screenY,h.clientX=o.clientX,h.clientY=o.clientY,h.pageX=o.pageX,h.pageY=o.pageY;var d=t.getBoundingClientRect();return h.offsetX=h.clientX-d.left,h.offsetY=h.clientY-d.top,h}(e,i,t,n,document.defaultView,r,a),c=!e.dispatchEvent(l);return s.g=0,p&&(e.classList.remove(h),a&&a.classList.remove(d)),c}function f(t,e){if(!t||t===b[7])return e;if(e===C[1]){if(0===t.indexOf(C[1]))return C[1]}else if(e===C[3]){if(0===t.indexOf(C[3])||t.indexOf("Link")>-1)return C[3]}else if(e===C[2]&&(0===t.indexOf(C[2])||t.indexOf("Move")>-1))return C[2];return C[0]}var v,m,p=!1,y={iterationInterval:150},b=["none","copy","copyLink","copyMove","link","linkMove","move","all"],C=["none","copy","move","link"],E=["","-webkit-"],L="dnd-poly-",O=L+"drag-image",x=L+"snapback",T=L+"icon",I=function(){function t(t,e,i,r){this.h=t,this.i=e,this.j=i,this.k=r,this.l=0,this.m=null,this.o=null,this.p=t,this.q=t.changedTouches[0],this.s=this.t.bind(this),this.u=this.v.bind(this),s("touchmove",this.s,!1),s("touchend",this.u,!1),s("touchcancel",this.u,!1)}return t.prototype.A=function(){var t=this;this.l=1,this.B=C[0],this.C={D:{},F:void 0,g:3,G:[]},this.H={x:null,y:null},this.I={x:null,y:null};var e=this.j;if(this.J=new P(this.C,(function(i,s,r){e=i,"number"!=typeof s&&"number"!=typeof r||(t.K={x:s||0,y:r||0})})),this.C.g=2,this.J.dropEffect=C[0],g("dragstart",this.j,this.p,this.C,this.J))return this.l=3,this.L(),!1;if(h("page",this.p,this.I),this.M=l(e),this.N=function(t){return E.map((function(e){var i=t.style[e+"transform"];return i&&"none"!==i?i.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""}))}(this.M),!this.K)if(this.i.dragImageOffset)this.K={x:this.i.dragImageOffset.x,y:this.i.dragImageOffset.y};else if(this.i.dragImageCenterOnTouch){var i=getComputedStyle(e);this.K={x:0-parseInt(i.marginLeft,10),y:0-parseInt(i.marginTop,10)}}else{var s=e.getBoundingClientRect();i=getComputedStyle(e),this.K={x:s.left-this.q.clientX-parseInt(i.marginLeft,10)+s.width/2,y:s.top-this.q.clientY-parseInt(i.marginTop,10)+s.height/2}}return c(this.M,this.I,this.N,this.K,this.i.dragImageCenterOnTouch),document.body.appendChild(this.M),this.O=setInterval((function(){t.P||(t.P=!0,t.R(),t.P=!1)}),this.i.iterationInterval),!0},t.prototype.L=function(){this.O&&(clearInterval(this.O),this.O=null),r("touchmove",this.s),r("touchend",this.u),r("touchcancel",this.u),this.M&&(this.M.parentNode.removeChild(this.M),this.M=null),this.k(this.i,this.p,this.l)},t.prototype.t=function(t){var e=this;if(!1!==o(t,this.q.identifier)){if(this.p=t,0===this.l){var i=void 0;if(this.i.dragStartConditionOverride)try{i=this.i.dragStartConditionOverride(t)}catch(t){i=!1}else i=1===t.touches.length;return i?void(!0===this.A()&&(this.h.preventDefault(),t.preventDefault())):void this.L()}if(t.preventDefault(),h("client",t,this.H),h("page",t,this.I),this.i.dragImageTranslateOverride)try{var s=!1;if(this.i.dragImageTranslateOverride(t,{x:this.H.x,y:this.H.y},this.m,(function(t,i){e.M&&(s=!0,e.H.x+=t,e.H.y+=i,e.I.x+=t,e.I.y+=i,c(e.M,e.I,e.N,e.K,e.i.dragImageCenterOnTouch))})),s)return}catch(t){}c(this.M,this.I,this.N,this.K,this.i.dragImageCenterOnTouch)}},t.prototype.v=function(t){if(!1!==o(t,this.q.identifier)){if(this.i.dragImageTranslateOverride)try{this.i.dragImageTranslateOverride(void 0,void 0,void 0,(function(){}))}catch(t){}if(0===this.l)return void this.L();t.preventDefault(),this.l="touchcancel"===t.type?3:2}},t.prototype.R=function(){var t=this;if(p)var e=L+"debug",i=L+"immediate-user-selection",s=L+"current-drop-target";var r=this.B;this.C.g=3,this.J.dropEffect=C[0];var n=g("drag",this.j,this.p,this.C,this.J);if(n&&(this.B=C[0]),n||2===this.l||3===this.l)return this.S(this.l)?void function(t,e,i,s){var r=getComputedStyle(t);if("hidden"!==r.visibility&&"none"!==r.display){e.classList.add(x);var n=getComputedStyle(e),a=parseFloat(n.transitionDuration);if(isNaN(a)||0===a)s();else{var o=t.getBoundingClientRect(),h={x:o.left,y:o.top};h.x+=document.body.scrollLeft||document.documentElement.scrollLeft,h.y+=document.body.scrollTop||document.documentElement.scrollTop,h.x-=parseInt(r.marginLeft,10),h.y-=parseInt(r.marginTop,10);var d=parseFloat(n.transitionDelay),l=Math.round(1e3*(a+d));c(e,h,i,void 0,!1),setTimeout(s,l)}}else s()}(this.j,this.M,this.N,(function(){t.T()})):void this.T();var o=document.elementFromPoint(this.H.x,this.H.y),h=this.o;o!==this.m&&o!==this.o&&(p&&(this.m&&this.m.classList.remove(i),o&&(o.classList.add(e),o.classList.add(i))),this.m=o,null!==this.o&&(this.C.g=3,this.J.dropEffect=C[0],g("dragexit",this.o,this.p,this.C,this.J,!1)),null===this.m?this.o=this.m:(this.C.g=3,this.J.dropEffect=u(this.C.F,this.j),g("dragenter",this.m,this.p,this.C,this.J)?(this.o=this.m,this.B=f(this.J.effectAllowed,this.J.dropEffect)):this.m!==document.body&&(this.o=document.body))),h!==this.o&&a(h)&&(p&&h.classList.remove(s),this.C.g=3,this.J.dropEffect=C[0],g("dragleave",h,this.p,this.C,this.J,!1,this.o)),a(this.o)&&(p&&(this.o.classList.add(e),this.o.classList.add(s)),this.C.g=3,this.J.dropEffect=u(this.C.F,this.j),!1===g("dragover",this.o,this.p,this.C,this.J)?this.B=C[0]:this.B=f(this.J.effectAllowed,this.J.dropEffect)),r!==this.B&&this.M.classList.remove(L+r);var d=L+this.B;!1===this.M.classList.contains(d)&&this.M.classList.add(d)},t.prototype.S=function(t){if(p){var e=L+"immediate-user-selection",i=L+"current-drop-target";this.o&&this.o.classList.remove(i),this.m&&this.m.classList.remove(e)}var s=this.B===C[0]||null===this.o||3===t;return s?a(this.o)&&(this.C.g=3,this.J.dropEffect=C[0],g("dragleave",this.o,this.p,this.C,this.J,!1)):a(this.o)&&(this.C.g=1,this.J.dropEffect=this.B,!0===g("drop",this.o,this.p,this.C,this.J)?this.B=this.J.dropEffect:this.B=C[0]),s},t.prototype.T=function(){this.C.g=3,this.J.dropEffect=this.B,g("dragend",this.j,this.p,this.C,this.J,!1),this.l=2,this.L()},t}(),P=function(){function t(t,e){this.U=t,this.V=e,this.W=C[0]}return Object.defineProperty(t.prototype,"types",{get:function(){if(0!==this.U.g)return Object.freeze(this.U.G)},enumerable:!0,configurable:!0}),t.prototype.setData=function(t,e){if(2===this.U.g){if(t.indexOf(" ")>-1)throw new Error("illegal arg: type contains space");this.U.D[t]=e,-1===this.U.G.indexOf(t)&&this.U.G.push(t)}},t.prototype.getData=function(t){if(1===this.U.g||2===this.U.g)return this.U.D[t]||""},t.prototype.clearData=function(t){if(2===this.U.g){if(t&&this.U.D[t]){delete this.U.D[t];var e=this.U.G.indexOf(t);return void(e>-1&&this.U.G.splice(e,1))}this.U.D={},this.U.G=[]}},t.prototype.setDragImage=function(t,e,i){2===this.U.g&&this.V(t,e,i)},Object.defineProperty(t.prototype,"effectAllowed",{get:function(){return this.U.F},set:function(t){2===this.U.g&&b.indexOf(t)>-1&&(this.U.F=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropEffect",{get:function(){return this.W},set:function(t){0!==this.U.g&&b.indexOf(t)>-1&&(this.W=t)},enumerable:!0,configurable:!0}),t}();t.polyfill=function(t){if(t&&Object.keys(t).forEach((function(e){y[e]=t[e]})),!y.forceApply){var i=function(){var t={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,touchEvents:"ontouchstart"in document.documentElement,userAgentSupportingNativeDnD:void 0},e=!!window.chrome||/chrome/i.test(navigator.userAgent);return t.userAgentSupportingNativeDnD=!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||e&&t.touchEvents),p&&Object.keys(t).forEach((function(t){})),t}();if(i.userAgentSupportingNativeDnD&&i.draggable&&i.dragEvents)return}v=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),s("touchstart",e,!1)},Object.defineProperty(t,"__esModule",{value:!0})}(e)}},e={};function i(s){var r=e[s];if(void 0!==r)return r.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,i),n.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";(0,i(83).polyfill)();const t=document.querySelector(".dark-mode-btn");t.addEventListener("click",(()=>{t.classList.toggle("dark-mode"),document.body.classList.toggle("dark-mode")}));class e{constructor(t,e){this.type=t,this.cell=e}placeIcon(){this.cell.innerText=this.type}}const s=new class{constructor(){this.grid=document.querySelector(".grid"),this.cells=document.querySelectorAll(".cell"),this.message=document.querySelector(".current-move"),this.restartBtn=document.querySelector(".restart-btn"),this.winningConditions=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],this.gameState=["","","","","","","","",""],this.currentPlayer="X",this.gameActive=!0,this.moveCounter=0,this.moveOrder=[],this.boundEventHandler=this.handleCellClick.bind(this),this.cells.forEach((t=>{t.addEventListener("click",this.boundEventHandler)}))}handleCellClick(t){this.moveCounter>=5&&(this.removeClick(),this.changeGameMode());const e=t.target,i=Number(e.id);""===this.gameState[i]&&this.gameActive&&(this.cellPlayed(e,i),this.validateResult())}cellPlayed(t,i){this.moveOrder.push(t),this.gameState[i]=this.currentPlayer,new e(this.currentPlayer,t).placeIcon()}switchPlayer(){const t="X"===this.currentPlayer?"O":"X";return this.message.innerText=`Teraz tura gracza ${t}`,t}validateResult(){let t=!1;for(let e=0;e<this.winningConditions.length;e++){const i=this.winningConditions[e];let s=this.gameState[i[0]],r=this.gameState[i[1]],n=this.gameState[i[2]];if(""!==s&&""!==r&&""!==n&&s===r&&r===n){[...this.cells].filter((t=>i.includes(Number(t.id)))).forEach((t=>{t.classList.add("won")})),t=!0;break}}return t?(this.message.innerText=`Gracz ${this.currentPlayer} wygrał!`,void(this.gameActive=!1)):this.gameState.includes("")?(this.currentPlayer=this.switchPlayer(),void this.moveCounter++):(this.message.innerText="Gra zakończyła się remisem!",void(this.gameActive=!1))}restartGame(){this.gameActive=!0,this.gameState=["","","","","","","","",""],this.currentPlayer="X",this.message.innerText="Teraz tura gracza X",this.moveCounter=0,this.cells.forEach((t=>{t.addEventListener("click",this.boundEventHandler),t.innerText="",t.className="cell"})),this.removeDrag(),this.currentCellFrom=null,this.moveOrder=[]}removeClick(){this.cells.forEach((t=>{t.removeEventListener("click",this.boundEventHandler)}))}removeDrag(){this.cells.forEach((t=>t.removeAttribute("draggable")))}changeGameMode(){this.moveOrder[0].classList.add("draggable"),this.switchPlayer(),this.cells.forEach((t=>{t.setAttribute("draggable","true"),t.addEventListener("dragstart",this.dragStart.bind(this)),t.addEventListener("dragend",this.dragEnd.bind(this))})),this.grid.addEventListener("dragover",this.dragOver.bind(this)),this.grid.addEventListener("dragenter",this.dragEnter.bind(this)),this.grid.addEventListener("dragleave",this.dragLeave.bind(this)),this.grid.addEventListener("drop",this.drop.bind(this))}dragStart(t){const e=t.target;this.currentCellFrom=e}dragEnd(t){t.target.classList.remove("draggable"),this.gameActive&&this.moveOrder[0].classList.add("draggable")}dragOver(t){t.preventDefault()}dragEnter(t){t.preventDefault()}dragLeave(t){t.preventDefault()}drop(t){const e=t.target,i=Number(e.id);""===this.gameState[i]&&this.gameActive&&this.currentCellFrom.innerText===this.currentPlayer&&this.checkCurrentDraggableCell(e)&&(this.setAfterDropping(e,i),this.validateResult())}checkCurrentDraggableCell(t){return 0===this.moveOrder.indexOf(this.currentCellFrom)&&(this.moveOrder.shift(),this.moveOrder.push(t),!0)}setAfterDropping(t,e){t.className="cell",t.innerText=this.currentPlayer,this.gameState[e]=this.currentPlayer,this.gameState[Number(this.currentCellFrom.id)]="",this.currentCellFrom.innerText="",this.currentCellFrom=null}};s.restartBtn.addEventListener("click",s.restartGame.bind(s))})()})();